; Generated by holtek-gcc v3.19, Sat Oct 12 14:56:49 2019
; 
; Configuration:
;       without long instruction
;       Single ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
; Rebuild 718

ir equ [2]
mp equ [3]
sbp equ [1]
acc equ [5]
bp equ [4]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
intc equ [11]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @HCCINIT, @HCCINIT0

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
public _INT0_ISR
#pragma debug scope 2 1
#line 14 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@INT0_ISR_code .section at 4 'code'
_INT0_ISR:
	reti
#line 14 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _COMP_ISR
#pragma debug scope 3 1
#line 27 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@COMP_ISR_code .section at 8 'code'
_COMP_ISR:
	reti
#line 27 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _Timer0_ISR
#pragma debug scope 4 1
#line 40 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@Timer0_ISR_code .section at 12 'code'
_Timer0_ISR:
	reti
#line 40 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _LVD_EEPROM_ISR
#pragma debug scope 5 1
#line 64 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@LVD_EEPROM_ISR_code .section at 20 'code'
_LVD_EEPROM_ISR:
	reti
#line 64 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _MedianFilter
#pragma debug scope 6 1
#line 74 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
_MedianFilter .section 'code'
_MedianFilter proc
public _MedianFilter_2
    local _MedianFilter_2 db 5 dup(?)	; 3,2
#pragma debug pointer 42 12 6
#pragma debug variable 42 6 _MedianFilter_2+0 "pData"
#pragma debug variable 8 6 _MedianFilter_2+2 "nSize"
#line 78 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,2
	sub a,_MedianFilter_2[2]
	sz c
	jmp _L11
#line 80 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,_MedianFilter_2[0]
	mov mp,a
	mov a,_MedianFilter_2[1]
	mov sbp,a
	call _Crom2Prom
	mov rd,a
	call _Crom2PromNext
	mov re,a
#line 81 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,rd
	mov _MedianFilter_2[3],a
	mov a,re
	mov _MedianFilter_2[4],a
#line 82 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr rf
	clr rg
#line 83 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr ra
_L10:
#line 85 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,ra
	mov rb,a
	clr rc
	clr c
	rlc rb
	rlc rc
	mov a,rb
	add a,_MedianFilter_2[0]
	mov mp,a
	mov a,rc
	adc a,_MedianFilter_2[1]
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	call _Crom2PromNext
	mov rc,a
	mov a,rb
	addm a,rf
	mov a,rc
	adcm a,rg
	mov a,rd
	sub a,rb
	mov a,re
	sbc a,rc
	sz c
	jmp _L7
	mov a,rb
	mov rd,a
	mov a,rc
	mov re,a
_L7:
	mov a,rb
	sub a,_MedianFilter_2[3]
	mov a,rc
	sbc a,_MedianFilter_2[4]
	sz c
	jmp _L8
	mov a,rb
	mov _MedianFilter_2[3],a
	mov a,rc
	mov _MedianFilter_2[4],a
_L8:
#line 83 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	inc ra
	mov a,ra
	sub a,_MedianFilter_2[2]
	snz c
	jmp _L10
#line 97 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,rf
	subm a,rd
	mov a,rg
	sbcm a,re
	mov a,rd
	sub a,_MedianFilter_2[3]
	mov rd,a
	mov a,re
	sbc a,_MedianFilter_2[4]
	mov re,a
#line 98 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr c
	rlca rd
	mov rf,a
	rlca re
	mov rg,a
	clr c
	rlc rf
	rlc rg
	mov a,rf
	addm a,rd
	mov a,rg
	adcm a,re
	clr c
	rlc rd
	rlc re
	mov a,254
	add a,_MedianFilter_2[2]
	mov rb,a
	mov a,255
	clr rc
	adcm a,rc
	clr _builtin_holtek_udivmodhi4_2[6]
	mov a,rd  
	mov _builtin_holtek_udivmodhi4_2[0],a  
	mov a,re  
	mov _builtin_holtek_udivmodhi4_2[1],a
	mov a,rb  
	mov _builtin_holtek_udivmodhi4_2[2],a  
	mov a,rc  
	mov _builtin_holtek_udivmodhi4_2[3],a
	call _builtin_holtek_udivmodhi4
	mov a,_builtin_holtek_udivmodhi4_2[0]  
	mov ra,a  
	mov a,_builtin_holtek_udivmodhi4_2[1]  
	mov rb,a
	jmp _L6
_L11:
#line 101 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr ra
	clr rb
_L6:
	ret
_MedianFilter endp
#line 101 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
_systick equ [384]
public _ad_entry_tab
#pragma debug scope 7 1
#line 107 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
_ad_entry_tab .section 'code'
_ad_entry_tab proc
public _ad_entry_tab_2
    local _ad_entry_tab_2 db 2 dup(?)	; 2,0
#pragma debug variable 10 7 _ad_entry_tab_2+0 "adVal"
#line 109 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,___count_2013[0]
	mov ra,a
	mov a,1
	add a,ra
	mov rb,a
	mov a,0
	clr rc
	adcm a,rc
	clr c
	rlc rb
	rlc rc
	mov a,low offset _systick
	add a,rb
	mov mp,a
	mov a,high offset _systick
	adc a,rc
	mov sbp,a
	mov a,sbp
	mov bp,a
	mov a,_ad_entry_tab_2[0]
	mov ir,a
	inc mp
	mov a,_ad_entry_tab_2[1]
	mov ir,a
#line 110 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	inc ra
#line 111 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr _builtin_holtek_udivmodqi4_2[3]
	mov a,ra
	mov _builtin_holtek_udivmodqi4_2[0],a
	mov a,10
	mov _builtin_holtek_udivmodqi4_2[1],a
	call _builtin_holtek_udivmodqi4
	mov a,_builtin_holtek_udivmodqi4_2[2]
	mov ___count_2013[0],a
	ret
_ad_entry_tab endp
#line 111 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
___sadoh equ [33]
___sadol equ [32]
public _ADC_ISR
#pragma debug scope 8 1
#line 161 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@ADC_ISR_code .section at 24 'code'
	mov r1,a
	mov a,status
	mov r2,a
	jmp _ADC_ISR
#pragma debug scope 1 1
@dummy24 proc
	call _ADC_ISR
@dummy24 endp
#pragma debug scope 9 1
_ADC_ISR .section 'code'
_ADC_ISR proc
local _ADC_ISR_2 db 2 dup(?)
	mov a,bp
	mov r3,a
	mov a,mp
	mov r4,a
	mov a,sbp
	mov r5,a
	mov a,tblp
	mov r6,a
	mov a,tbhp
	mov r7,a
#line 165 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,1
	add a,___count_2018[0]
	mov _ADC_ISR_2[0],a
	mov a,0
	adc a,___count_2018[1]
	mov _ADC_ISR_2[1],a
	mov a,_ADC_ISR_2[0]
	mov ___count_2018[0],a
	mov a,_ADC_ISR_2[1]
	mov ___count_2018[1],a
#line 166 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,[33]
	mov rc,a
	clr rb
	mov a,rc
	mov _ad_entry_tab_2[1],a
	mov a,[32]
	or a,rb
	mov _ad_entry_tab_2[0],a
	call _ad_entry_tab
#line 167 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,19
	sub a,_ADC_ISR_2[0]
	mov a,0
	sbc a,_ADC_ISR_2[1]
	sz c
	jmp _L14
#line 169 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,low (offset _systick+4)
	mov mp,a
	mov a,high (offset _systick+4)
	mov sbp,a
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rd,a
	inc mp
	mov a,ir
	mov re,a
	mov a,253
	addm a,mp
	mov a,255
	adcm a,sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	mov a,3
	addm a,mp
	mov a,0
	adcm a,sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
#line 170 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	inc mp
	sz z
	inc sbp
	mov a,sbp
	mov bp,a
	mov a,ir
	mov rb,a
	inc mp
	mov a,ir
	mov rc,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
#line 169 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	clr _builtin_holtek_signs.0
	call _builtin_holtek_uitof
	mov a,_builtin_holtek_mant1[2]
	mov re,a
	mov a,_builtin_holtek_mant1[1]
	mov rd,a
	mov a,_builtin_holtek_mant1[0]
	mov rc,a
#line 172 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	mov a,re
	mov rg,a
	mov a,rd
	mov rf,a
	mov a,rc
	mov re,a
	clr rd
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,67
	mov _builtin_holtek_mant12p[1],a
	mov a,112
	mov _builtin_holtek_mant2[2],a
	mov a,25
	mov _builtin_holtek_mant2[1],a
	mov a,154
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtmul
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,57
	mov _builtin_holtek_mant12p[1],a
	mov a,128
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtmul
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,re
	mov rc,a
	mov a,rf
	mov rd,a
	mov a,rg
	mov re,a
#line 173 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr _builtin_holtek_mant12p[0]
	mov a,re
	mov _builtin_holtek_mant1[2],a
	mov a,rd
	mov _builtin_holtek_mant1[1],a
	mov a,rc
	mov _builtin_holtek_mant1[0],a
	call _builtin_holtek_ftol
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
#line 174 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
	clr _builtin_holtek_udivmodhi4_2[6]
	mov a,rd  
	mov _builtin_holtek_udivmodhi4_2[0],a  
	mov a,re  
	mov _builtin_holtek_udivmodhi4_2[1],a
	mov a,10  
	mov _builtin_holtek_udivmodhi4_2[2],a  
	clr _builtin_holtek_udivmodhi4_2[3]
	call _builtin_holtek_udivmodhi4
	mov a,_builtin_holtek_udivmodhi4_2[0]  
	mov rd,a  
	mov a,_builtin_holtek_udivmodhi4_2[1]  
	mov re,a
	clr c
	rlca rd
	mov rb,a
	rlca re
	mov rc,a
	clr c
	rlc rb
	rlc rc
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	clr c
	rlca rd
	mov _phParms[7],a
	rlca re
	mov _phParms[8],a
_L14:
	mov a,r2
	mov status,a
	mov a,r3
	mov bp,a
	mov a,r4
	mov mp,a
	mov a,r5
	mov sbp,a
	mov a,r6
	mov tblp,a
	mov a,r7
	mov tbhp,a
	tabrdc acc
	mov a,r1
	reti
_ADC_ISR endp

#line 174 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _TB0_ISR
#pragma debug scope 10 1
#line 186 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@TB0_ISR_code .section at 28 'code'
_TB0_ISR:
	reti
#line 186 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _TB1_ISR
#pragma debug scope 11 1
#line 199 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@TB1_ISR_code .section at 32 'code'
_TB1_ISR:
	reti
#line 199 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
public _INT1_ISR
#pragma debug scope 12 1
#line 212 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@INT1_ISR_code .section at 36 'code'
_INT1_ISR:
	reti
#line 212 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
#pragma debug scope 1 1
@HCCINIT	.section 'data'
#line 164 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@HCCINIT .section 'data'
___count_2018 label byte
#pragma debug variable 10 9 ___count_2018 "count"
	db 0
@ROMDATA_BASE .section inpage 'code'
	db 0
@HCCINIT .section 'data'
	db 0
@ROMDATA_BASE .section inpage 'code'
	db 0
@HCCINIT .section 'data'
#line 108 "C:\Users\think\Desktop\ph\phTestPen\phTestPen Code V02\Scr\HT8_it.c"
@HCCINIT .section 'data'
___count_2013 label byte
#pragma debug variable 8 7 ___count_2013 "count"
	db 0
@ROMDATA_BASE .section inpage 'code'
	db 0
@HCCINIT .section 'data'
#pragma debug variable 8 1 ___sadol "__sadol" 1
#pragma debug variable 8 1 ___sadoh "__sadoh" 1
#pragma debug struct_begin 43 "systicks"
#pragma debug field 0 8 "key_val"
#pragma debug field 0 8 "error"
#pragma debug field 1 12 20 "ad"
#pragma debug field 0 8 "cal_flag"
#pragma debug field 0 12 "clock"
#pragma debug field 0 12 "checkVoltTick"
#pragma debug field 0 12 "keyTick"
#pragma debug field 0 12 "pageTick"
#pragma debug field 0 12 "ledTick"
#pragma debug struct_end
#pragma debug variable 43 1 _systick "systick" 53

; output external variables
extern _phParms:byte
extern r1:byte
extern r2:byte
extern r3:byte
extern r4:byte
extern r5:byte
extern r6:byte
extern r7:byte
extern _builtin_holtek_udivmodhi4_2:byte
extern _builtin_holtek_udivmodhi4:near
extern _builtin_holtek_udivmodqi4_2:byte
extern _builtin_holtek_udivmodqi4:near
extern _builtin_holtek_mant1:byte
extern _builtin_holtek_signs:byte
extern _builtin_holtek_uitof:near
extern _builtin_holtek_mant2:byte
extern _builtin_holtek_mant12p:byte
extern _builtin_holtek_dtmul:near
extern _builtin_holtek_ftol:near

; 
; Generated by holtek-gcc v3.19, Sat Oct 12 14:56:50 2019
; Rebuild 718
; end of file
